{"version":3,"file":"js/StickyImageBlock-1.8.min.js","mappings":"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","sources":["webpack://theme/./src/js/components/StickyImageBlock.js"],"sourcesContent":["\r\nimport gsap from \"gsap\";\r\nimport { ScrollTrigger } from \"gsap/ScrollTrigger\";\r\ngsap.registerPlugin(ScrollTrigger);\r\nexport default class StickyImageBlock {\r\n    constructor() {\r\n        this.init();\r\n    }\r\n\r\n    init = () => {\r\n        this.setDomMap();\r\n        this.bindEvents();\r\n    };\r\n\r\n    setDomMap = () => {\r\n        this.window = $(window);\r\n        this.body = $(\"body\");\r\n    }\r\n\r\n    bindEvents = () => {\r\n        const itemBlocks = $(\".sticky-img-block .item-block\");\r\n        const itemBlockFirst = $(\".sticky-img-block .item-block:first-child\");\r\n        const imagesList = $(\".sticky-img-block .images-list\");\r\n        const images = $(\".sticky-img-block .images-list img\");\r\n        const wrap = $(\".sticky-img-block .wrap\");\r\n        const pTags = $(\".sticky-img-block .desc\");\r\n        itemBlockFirst.addClass(\"active\");\r\n        window.scrollTo(0, 0);\r\n        pTags.slideUp(\"slow\");\r\n        ScrollTrigger.create({\r\n            trigger: \".sticky-img-block\",\r\n            start: \"top 70%\",\r\n            onEnter: () => {\r\n                    const itemCount = itemBlocks.length;\r\n                    const lastOffset = (imagesList.height() / 2.8);\r\n                    itemBlocks.each(function(index) {\r\n\r\n                        let itemOffsetTop = $(this).offset().top;\r\n\r\n                           if(index == itemCount - 1){\r\n                            itemOffsetTop = $(this).offset().top - lastOffset;\r\n                        }\r\n\r\n                        $(this).attr('data-offset', itemOffsetTop);\r\n                    });\r\n                    setTimeout(function(){\r\n                        itemBlockFirst.find(\".desc\").slideDown(\"slow\");\r\n                        ScrollTrigger.refresh();\r\n                    },400)\r\n                    ScrollTrigger.refresh();\r\n            }\r\n        });\r\n        let hoverTimeout;\r\n        itemBlocks.each(function(index, item) {\r\n            $(item).on(\"mouseover\", function() {\r\n                clearTimeout(hoverTimeout);\r\n                hoverTimeout = setTimeout(() => {\r\n                    if(!$(this).hasClass(\"active\")){\r\n                            const pTag = $(item).find(\".desc\");\r\n                            itemBlocks.removeClass(\"active\");\r\n                            pTags.slideUp(\"1000\");\r\n                            $(item).addClass(\"active\");\r\n                            pTag.slideDown(\"1000\");\r\n                            images.removeClass(\"active\");\r\n                            //const itemOffsetTop = $(item).offset().top;\r\n                            const itemOffsetTop = $(item).data('offset');\r\n                            const wrapOffsetTop = wrap.offset().top;\r\n                            const spaceBetween = itemOffsetTop - wrapOffsetTop;\r\n                            images.eq(index).addClass(\"active\");\r\n                            gsap.to(imagesList, { y: spaceBetween-135, duration: 0.8 });\r\n                            ScrollTrigger.refresh();\r\n                    }\r\n                 }, 200); // Adjust the delay as needed\r\n            });\r\n\r\n            $(item).on(\"mouseout\", function() {\r\n                 clearTimeout(hoverTimeout);\r\n            });\r\n        });\r\n\r\n        let timeoutId;\r\n        window.addEventListener(\"resize\", function (e) {\r\n        clearTimeout(timeoutId);\r\n            timeoutId = setTimeout(() => {\r\n                if (!document.body.classList.contains('mobile-tablet-device')) {\r\n                    location.reload();\r\n                }\r\n            }, 300); // Adjust the debounce time as needed\r\n        });\r\n    }\r\n}"],"names":["gsap","ScrollTrigger","registerPlugin","StickyImageBlock","_createClass","_this","_classCallCheck","_defineProperty","setDomMap","bindEvents","window","$","body","itemBlocks","itemBlockFirst","imagesList","images","wrap","pTags","addClass","scrollTo","slideUp","create","trigger","start","onEnter","itemCount","length","lastOffset","height","each","index","itemOffsetTop","offset","top","attr","setTimeout","find","slideDown","refresh","hoverTimeout","item","on","_this2","clearTimeout","hasClass","pTag","removeClass","data","wrapOffsetTop","spaceBetween","eq","to","y","duration","timeoutId","addEventListener","e","document","classList","contains","location","reload","init","default"],"sourceRoot":""}